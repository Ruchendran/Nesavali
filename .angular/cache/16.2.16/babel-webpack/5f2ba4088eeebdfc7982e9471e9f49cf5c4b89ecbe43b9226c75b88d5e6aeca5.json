{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\nexport let LogInOrRegisterComponent = class LogInOrRegisterComponent {\n  constructor(share, api, route, cookie) {\n    this.share = share;\n    this.api = api;\n    this.route = route;\n    this.cookie = cookie;\n    this.existedUser = false;\n    this.onLogin = () => {\n      console.log(this.loginForm);\n      this.api.login(this.loginForm.value).subscribe(response => {\n        let result = JSON.parse(JSON.stringify(response));\n        console.log(result.userDet);\n        if (result.userStatus) {\n          if (result.passwordStatus) {\n            this.route.navigate(['']);\n          } else {\n            console.log('hit');\n            document.getElementById('erLogin')?.textContent != 'User password s incorrrect';\n          }\n        } else {}\n      });\n    };\n    this.onRegister = () => {\n      this.api.register(this.registerForm.value).subscribe(response => {\n        let result = JSON.parse(JSON.stringify(response));\n        if (result.statusCode === 200) {\n          this.existedUser = false;\n          this.route.navigate(['']);\n          this.cookie.set('user-auth', JSON.stringify(this.registerForm.value), 1);\n        } else {\n          console.log(\"hit\");\n          this.existedUser = true;\n        }\n      });\n    };\n  }\n  ngOnInit() {\n    this.registerForm = new FormGroup({\n      name: new FormControl('', Validators.required),\n      mail: new FormControl('', [Validators.required, Validators.email]),\n      password: new FormControl('', Validators.required)\n    });\n    this.loginForm = new FormGroup({\n      mail: new FormControl('', [Validators.required, Validators.email]),\n      password: new FormControl('', Validators.required)\n    });\n  }\n};\nLogInOrRegisterComponent = __decorate([Component({\n  selector: 'app-log-in-or-register',\n  templateUrl: './log-in-or-register.component.html',\n  styleUrls: ['./log-in-or-register.component.scss']\n})], LogInOrRegisterComponent);","map":{"version":3,"names":["Component","FormGroup","FormControl","Validators","LogInOrRegisterComponent","constructor","share","api","route","cookie","existedUser","onLogin","console","log","loginForm","login","value","subscribe","response","result","JSON","parse","stringify","userDet","userStatus","passwordStatus","navigate","document","getElementById","textContent","onRegister","register","registerForm","statusCode","set","ngOnInit","name","required","mail","email","password","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\Chathruknan\\Desktop\\Nesav\\Nesavali\\src\\app\\log-in-or-register\\log-in-or-register.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { ShareService } from '../share.service';\nimport  {ApiService} from \"../../app/services/api.service\";\nimport { FormGroup,FormControl, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { CookieService } from 'ngx-cookie-service';\n\n@Component({\n  selector: 'app-log-in-or-register',\n  templateUrl: './log-in-or-register.component.html',\n  styleUrls: ['./log-in-or-register.component.scss']\n})\nexport class LogInOrRegisterComponent implements OnInit {\n\n  constructor(public share:ShareService,private api:ApiService,private route:Router,private cookie:CookieService){\n\n  }\n\n  loginForm!:FormGroup;\n  registerForm!:FormGroup;\n  existedUser=false;\n\n  ngOnInit(): void {\n   this.registerForm=new FormGroup({\n    name:new FormControl('',Validators.required),\n    mail:new FormControl('',[Validators.required,Validators.email]),\n    password:new FormControl('',Validators.required),\n\n   });\n\n\n   this.loginForm=new FormGroup({\n    mail:new FormControl('',[Validators.required,Validators.email]),\n    password:new FormControl('',Validators.required)\n   })\n  }\n\n  onLogin=()=>{\n   console.log(this.loginForm)\n   this.api.login(this.loginForm.value).subscribe((response)=>{\n    let result=JSON.parse(JSON.stringify(response));\n    console.log(result.userDet)\n    if(result.userStatus){\n      if(result.passwordStatus){\n        this.route.navigate([''])\n      }else{\n        console.log('hit')\n        document.getElementById('erLogin')?.textContent!='User password s incorrrect'\n      }\n    }\n    else{\n\n    }\n\n   })\n  }\n\n  onRegister=()=>{\n  this.api.register(this.registerForm.value).subscribe((response)=>{\n       let result=JSON.parse(JSON.stringify(response));\n        if(result.statusCode===200){\n          this.existedUser=false;\n          this.route.navigate(['']);\n          this.cookie.set('user-auth',JSON.stringify(this.registerForm.value),1);\n        }\n        else{\n          console.log(\"hit\")\n          this.existedUser=true;\n        }\n   })\n  \n  }\n\n\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}