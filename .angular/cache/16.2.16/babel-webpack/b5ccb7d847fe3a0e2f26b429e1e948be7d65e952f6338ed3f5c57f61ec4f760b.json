{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\nexport let LogInOrRegisterComponent = class LogInOrRegisterComponent {\n  constructor(share, api, route, cookie) {\n    this.share = share;\n    this.api = api;\n    this.route = route;\n    this.cookie = cookie;\n    this.existedUser = false;\n    this.passwordStatus = true;\n    this.userNotValid = true;\n    this.onLogin = () => {\n      console.log(this.loginForm);\n      this.api.login(this.loginForm.value).subscribe(response => {\n        let result = JSON.parse(JSON.stringify(response));\n        console.log(result);\n        if (result.userStatus) {\n          this.userNotValid;\n          if (result.passwordStatus) {\n            this.passwordStatus = true;\n            this.route.navigate(['']);\n          } else {\n            console.log('hit');\n            this.passwordStatus = false;\n          }\n        } else {\n          this.passwordStatus = false;\n          this.userNotValid = false;\n        }\n      });\n    };\n    this.onRegister = () => {\n      this.api.register(this.registerForm.value).subscribe(response => {\n        let result = JSON.parse(JSON.stringify(response));\n        if (result.statusCode === 200) {\n          this.existedUser = false;\n          this.route.navigate(['']);\n          this.cookie.set('user-auth', JSON.stringify(this.registerForm.value), 1);\n        } else {\n          console.log(\"hit\");\n          this.existedUser = true;\n        }\n      });\n    };\n  }\n  ngOnInit() {\n    this.registerForm = new FormGroup({\n      name: new FormControl('', Validators.required),\n      mail: new FormControl('', [Validators.required, Validators.email]),\n      password: new FormControl('', Validators.required)\n    });\n    this.loginForm = new FormGroup({\n      mail: new FormControl('', [Validators.required, Validators.email]),\n      password: new FormControl('', Validators.required)\n    });\n  }\n};\nLogInOrRegisterComponent = __decorate([Component({\n  selector: 'app-log-in-or-register',\n  templateUrl: './log-in-or-register.component.html',\n  styleUrls: ['./log-in-or-register.component.scss']\n})], LogInOrRegisterComponent);","map":{"version":3,"names":["Component","FormGroup","FormControl","Validators","LogInOrRegisterComponent","constructor","share","api","route","cookie","existedUser","passwordStatus","userNotValid","onLogin","console","log","loginForm","login","value","subscribe","response","result","JSON","parse","stringify","userStatus","navigate","onRegister","register","registerForm","statusCode","set","ngOnInit","name","required","mail","email","password","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\Chathruknan\\Desktop\\Nesav\\Nesavali\\src\\app\\log-in-or-register\\log-in-or-register.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { ShareService } from '../share.service';\nimport  {ApiService} from \"../../app/services/api.service\";\nimport { FormGroup,FormControl, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { CookieService } from 'ngx-cookie-service';\n\n@Component({\n  selector: 'app-log-in-or-register',\n  templateUrl: './log-in-or-register.component.html',\n  styleUrls: ['./log-in-or-register.component.scss']\n})\nexport class LogInOrRegisterComponent implements OnInit {\n\n  constructor(public share:ShareService,private api:ApiService,private route:Router,private cookie:CookieService){\n\n  }\n\n  loginForm!:FormGroup;\n  registerForm!:FormGroup;\n  existedUser=false;\n  passwordStatus=true;\n  userNotValid=true;\n\n  ngOnInit(): void {\n   this.registerForm=new FormGroup({\n    name:new FormControl('',Validators.required),\n    mail:new FormControl('',[Validators.required,Validators.email]),\n    password:new FormControl('',Validators.required),\n\n   });\n\n\n   this.loginForm=new FormGroup({\n    mail:new FormControl('',[Validators.required,Validators.email]),\n    password:new FormControl('',Validators.required)\n   })\n  }\n\n  onLogin=()=>{\n   console.log(this.loginForm)\n   this.api.login(this.loginForm.value).subscribe((response)=>{\n    let result=JSON.parse(JSON.stringify(response));\n    console.log(result)\n    if(result.userStatus){\n      this.userNotValid\n      if(result.passwordStatus){\n        this.passwordStatus=true;\n        this.route.navigate([''])\n      }else{\n        console.log('hit')\n        this.passwordStatus=false;\n        \n      }\n    }\n    else{\n      this.passwordStatus=false;\n     this.userNotValid=false;\n    }\n\n   })\n  }\n\n  onRegister=()=>{\n  this.api.register(this.registerForm.value).subscribe((response)=>{\n       let result=JSON.parse(JSON.stringify(response));\n        if(result.statusCode===200){\n          this.existedUser=false;\n          this.route.navigate(['']);\n          this.cookie.set('user-auth',JSON.stringify(this.registerForm.value),1);\n        }\n        else{\n          console.log(\"hit\")\n          this.existedUser=true;\n        }\n   })\n  \n  }\n\n\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}